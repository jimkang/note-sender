!function(){"use strict";var t=TypeError,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}function n(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}var o=n(Object.freeze({__proto__:null,default:{}})),a="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,c=a&&i&&"function"==typeof i.get?i.get:null,u=a&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=l&&f&&"function"==typeof f.get?f.get:null,p=l&&Set.prototype.forEach,y="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,g=Object.prototype.toString,b=Function.prototype.toString,v=String.prototype.match,w=String.prototype.slice,S=String.prototype.replace,j=String.prototype.toUpperCase,A=String.prototype.toLowerCase,O=RegExp.prototype.test,_=Array.prototype.concat,E=Array.prototype.join,x=Array.prototype.slice,P=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,R=Object.getOwnPropertySymbols,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||"symbol")?Symbol.toStringTag:null,F=Object.prototype.propertyIsEnumerable,L=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function M(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||O.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-P(-t):P(t);if(n!==t){var o=String(n),a=w.call(e,o.length+1);return S.call(o,r,"$&_")+"."+S.call(S.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return S.call(e,r,"$&_")}var N=o.custom,C=K(N)?N:null,U={__proto__:null,double:'"',single:"'"},$={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function B(t,e,r){var n=r.quoteStyle||e,o=U[n];return o+t+o}function q(t){return S.call(String(t),/"/g,"&quot;")}function W(t){return!T||!("object"==typeof t&&(T in t||void 0!==t[T]))}function H(t){return"[object Array]"===Q(t)&&W(t)}function z(t){return"[object RegExp]"===Q(t)&&W(t)}function K(t){if(D)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!k)return!1;try{return k.call(t),!0}catch(t){}return!1}var G=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return G.call(t,e)}function Q(t){return g.call(t)}function J(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function X(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return X(w.call(t,0,e.maxStringLength),e)+n}var o=$[e.quoteStyle||"single"];return o.lastIndex=0,B(S.call(S.call(t,o,"\\$1"),/[\x00-\x1f]/g,Y),"single",e)}function Y(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+j.call(e.toString(16))}function Z(t){return"Object("+t+")"}function tt(t){return t+" { ? }"}function et(t,e,r,n){return t+" ("+e+") {"+(n?rt(r,n):E.call(r,", "))+"}"}function rt(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+E.call(t,","+r)+"\n"+e.prev}function nt(t,e){var r=H(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=V(t,o)?e(t[o],t):""}var a,i="function"==typeof R?R(t):[];if(D){a={};for(var c=0;c<i.length;c++)a["$"+i[c]]=i[c]}for(var u in t)V(t,u)&&(r&&String(Number(u))===u&&u<t.length||D&&a["$"+u]instanceof Symbol||(O.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if("function"==typeof R)for(var l=0;l<i.length;l++)F.call(t,i[l])&&n.push("["+e(i[l])+"]: "+e(t[i[l]],t));return n}var ot=function t(r,n,a,i){var l=n||{};if(V(l,"quoteStyle")&&!V(U,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var f=!V(l,"customInspect")||l.customInspect;if("boolean"!=typeof f&&"symbol"!==f)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=l.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return X(r,l);if("number"==typeof r){if(0===r)return 1/0/r>0?"0":"-0";var j=String(r);return g?M(r,j):j}if("bigint"==typeof r){var O=String(r)+"n";return g?M(r,O):O}var P=void 0===l.depth?5:l.depth;if(void 0===a&&(a=0),a>=P&&P>0&&"object"==typeof r)return H(r)?"[Array]":"[Object]";var R=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=E.call(Array(t.indent+1)," ")}return{base:r,prev:E.call(Array(e+1),r)}}(l,a);if(void 0===i)i=[];else if(J(i,r)>=0)return"[Circular]";function N(e,r,n){if(r&&(i=x.call(i)).push(r),n){var o={depth:l.depth};return V(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),t(e,o,a+1,i)}return t(e,l,a+1,i)}if("function"==typeof r&&!z(r)){var $=function(t){if(t.name)return t.name;var e=v.call(b.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(r),G=nt(r,N);return"[Function"+($?": "+$:" (anonymous)")+"]"+(G.length>0?" { "+E.call(G,", ")+" }":"")}if(K(r)){var Y=D?S.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(r);return"object"!=typeof r||D?Y:Z(Y)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(r)){for(var ot="<"+A.call(String(r.nodeName)),at=r.attributes||[],it=0;it<at.length;it++)ot+=" "+at[it].name+"="+B(q(at[it].value),"double",l);return ot+=">",r.childNodes&&r.childNodes.length&&(ot+="..."),ot+="</"+A.call(String(r.nodeName))+">"}if(H(r)){if(0===r.length)return"[]";var ct=nt(r,N);return R&&!function(t){for(var e=0;e<t.length;e++)if(J(t[e],"\n")>=0)return!1;return!0}(ct)?"["+rt(ct,R)+"]":"[ "+E.call(ct,", ")+" ]"}if(function(t){return"[object Error]"===Q(t)&&W(t)}(r)){var ut=nt(r,N);return"cause"in Error.prototype||!("cause"in r)||F.call(r,"cause")?0===ut.length?"["+String(r)+"]":"{ ["+String(r)+"] "+E.call(ut,", ")+" }":"{ ["+String(r)+"] "+E.call(_.call("[cause]: "+N(r.cause),ut),", ")+" }"}if("object"==typeof r&&f){if(C&&"function"==typeof r[C]&&o)return o(r,{depth:P-a});if("symbol"!==f&&"function"==typeof r.inspect)return r.inspect()}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{s.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(r)){var lt=[];return u&&u.call(r,function(t,e){lt.push(N(e,r,!0)+" => "+N(t,r))}),et("Map",c.call(r),lt,R)}if(function(t){if(!s||!t||"object"!=typeof t)return!1;try{s.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(r)){var ft=[];return p&&p.call(r,function(t){ft.push(N(t,r))}),et("Set",s.call(r),ft,R)}if(function(t){if(!y||!t||"object"!=typeof t)return!1;try{y.call(t,y);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(r))return tt("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{y.call(t,y)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(r))return tt("WeakSet");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{return h.call(t),!0}catch(t){}return!1}(r))return tt("WeakRef");if(function(t){return"[object Number]"===Q(t)&&W(t)}(r))return Z(N(Number(r)));if(function(t){if(!t||"object"!=typeof t||!I)return!1;try{return I.call(t),!0}catch(t){}return!1}(r))return Z(N(I.call(r)));if(function(t){return"[object Boolean]"===Q(t)&&W(t)}(r))return Z(m.call(r));if(function(t){return"[object String]"===Q(t)&&W(t)}(r))return Z(N(String(r)));if("undefined"!=typeof window&&r===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&r===globalThis||void 0!==e&&r===e)return"{ [object globalThis] }";if(!function(t){return"[object Date]"===Q(t)&&W(t)}(r)&&!z(r)){var st=nt(r,N),pt=L?L(r)===Object.prototype:r instanceof Object||r.constructor===Object,yt=r instanceof Object?"":"null prototype",dt=!pt&&T&&Object(r)===r&&T in r?w.call(Q(r),8,-1):yt?"Object":"",ht=(pt||"function"!=typeof r.constructor?"":r.constructor.name?r.constructor.name+" ":"")+(dt||yt?"["+E.call(_.call([],dt||[],yt||[]),": ")+"] ":"");return 0===st.length?ht+"{}":R?ht+"{"+rt(st,R)+"}":ht+"{ "+E.call(st,", ")+" }"}return String(r)},at=t,it=function(t,e,r){for(var n,o=t;null!=(n=o.next);o=n)if(n.key===e)return o.next=n.next,r||(n.next=t.next,t.next=n),n},ct=Object,ut=Error,lt=EvalError,ft=RangeError,st=ReferenceError,pt=SyntaxError,yt=URIError,dt=Math.abs,ht=Math.floor,mt=Math.max,gt=Math.min,bt=Math.pow,vt=Math.round,wt=Number.isNaN||function(t){return t!=t},St=Object.getOwnPropertyDescriptor;if(St)try{St([],"length")}catch(t){St=null}var jt=St,At=Object.defineProperty||!1;if(At)try{At({},"a",{value:1})}catch(t){At=!1}var Ot,_t=At,Et="undefined"!=typeof Symbol&&Symbol,xt="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null,Pt=ct,It=Pt.getPrototypeOf||null,Rt=Object.prototype.toString,kt=Math.max,Dt=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r},Tt=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==Rt.apply(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r,n=function(t,e){for(var r=[],n=e||0,o=0;n<t.length;n+=1,o+=1)r[o]=t[n];return r}(arguments,1),o=kt(0,e.length-n.length),a=[],i=0;i<o;i++)a[i]="$"+i;if(r=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(a,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var o=e.apply(this,Dt(n,arguments));return Object(o)===o?o:this}return e.apply(t,Dt(n,arguments))}),e.prototype){var c=function(){};c.prototype=e.prototype,r.prototype=new c,c.prototype=null}return r},Ft=Function.prototype.call,Lt=Function.prototype.apply,Mt="undefined"!=typeof Reflect&&Reflect&&Reflect.apply||Tt.call(Ft,Lt),Nt=function(t){if(t.length<1||"function"!=typeof t[0])throw new at("a function is required");return Mt(Tt,Ft,t)},Ct=jt;try{Ot=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var Ut,$t=!!Ot&&Ct&&Ct(Object.prototype,"__proto__"),Bt=Object,qt=Bt.getPrototypeOf,Wt=$t&&"function"==typeof $t.get?Nt([$t.get]):"function"==typeof qt&&function(t){return qt(null==t?t:Bt(t))},Ht=xt?function(t){return xt(t)}:It?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return It(t)}:Wt?function(t){return Wt(t)}:null,zt=Function.prototype.call,Kt=Object.prototype.hasOwnProperty,Gt=Tt.call(zt,Kt),Vt=ut,Qt=lt,Jt=ft,Xt=st,Yt=pt,Zt=yt,te=dt,ee=ht,re=mt,ne=gt,oe=bt,ae=vt,ie=function(t){return wt(t)||0===t?t:t<0?-1:1},ce=_t,ue=Gt,le=Function,fe=function(t){try{return le('"use strict"; return ('+t+").constructor;")()}catch(t){}},se=function(){throw new at},pe=Ct?function(){try{return se}catch(t){try{return Ct(arguments,"callee").get}catch(t){return se}}}():se,ye="function"==typeof Et&&"function"==typeof Symbol&&"symbol"==typeof Et("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(t,e);if(42!==a.value||!0!==a.enumerable)return!1}return!0}(),de={},he="undefined"!=typeof Uint8Array&&Ht?Ht(Uint8Array):Ut,me={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?Ut:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Ut:ArrayBuffer,"%ArrayIteratorPrototype%":ye&&Ht?Ht([][Symbol.iterator]()):Ut,"%AsyncFromSyncIteratorPrototype%":Ut,"%AsyncFunction%":de,"%AsyncGenerator%":de,"%AsyncGeneratorFunction%":de,"%AsyncIteratorPrototype%":de,"%Atomics%":"undefined"==typeof Atomics?Ut:Atomics,"%BigInt%":"undefined"==typeof BigInt?Ut:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Ut:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Ut:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Ut:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Vt,"%eval%":eval,"%EvalError%":Qt,"%Float16Array%":"undefined"==typeof Float16Array?Ut:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?Ut:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Ut:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Ut:FinalizationRegistry,"%Function%":le,"%GeneratorFunction%":de,"%Int8Array%":"undefined"==typeof Int8Array?Ut:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Ut:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Ut:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ye&&Ht?Ht(Ht([][Symbol.iterator]())):Ut,"%JSON%":"object"==typeof JSON?JSON:Ut,"%Map%":"undefined"==typeof Map?Ut:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&ye&&Ht?Ht((new Map)[Symbol.iterator]()):Ut,"%Math%":Math,"%Number%":Number,"%Object%":Pt,"%Object.getOwnPropertyDescriptor%":Ct,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Ut:Promise,"%Proxy%":"undefined"==typeof Proxy?Ut:Proxy,"%RangeError%":Jt,"%ReferenceError%":Xt,"%Reflect%":"undefined"==typeof Reflect?Ut:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Ut:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&ye&&Ht?Ht((new Set)[Symbol.iterator]()):Ut,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Ut:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ye&&Ht?Ht(""[Symbol.iterator]()):Ut,"%Symbol%":ye?Symbol:Ut,"%SyntaxError%":Yt,"%ThrowTypeError%":pe,"%TypedArray%":he,"%TypeError%":at,"%Uint8Array%":"undefined"==typeof Uint8Array?Ut:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Ut:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Ut:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Ut:Uint32Array,"%URIError%":Zt,"%WeakMap%":"undefined"==typeof WeakMap?Ut:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Ut:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Ut:WeakSet,"%Function.prototype.call%":Ft,"%Function.prototype.apply%":Lt,"%Object.defineProperty%":ce,"%Object.getPrototypeOf%":It,"%Math.abs%":te,"%Math.floor%":ee,"%Math.max%":re,"%Math.min%":ne,"%Math.pow%":oe,"%Math.round%":ae,"%Math.sign%":ie,"%Reflect.getPrototypeOf%":xt};if(Ht)try{null.error}catch(t){var ge=Ht(Ht(t));me["%Error.prototype%"]=ge}var be=function t(e){var r;if("%AsyncFunction%"===e)r=fe("async function () {}");else if("%GeneratorFunction%"===e)r=fe("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=fe("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&Ht&&(r=Ht(o.prototype))}return me[e]=r,r},ve={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},we=Tt.call(Ft,Array.prototype.concat),Se=Tt.call(Lt,Array.prototype.splice),je=Tt.call(Ft,String.prototype.replace),Ae=Tt.call(Ft,String.prototype.slice),Oe=Tt.call(Ft,RegExp.prototype.exec),_e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ee=/\\(\\)?/g,xe=function(t,e){var r,n=t;if(ue(ve,n)&&(n="%"+(r=ve[n])[0]+"%"),ue(me,n)){var o=me[n];if(o===de&&(o=be(n)),void 0===o&&!e)throw new at("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new Yt("intrinsic "+t+" does not exist!")},Pe=function(t,e){if("string"!=typeof t||0===t.length)throw new at("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new at('"allowMissing" argument must be a boolean');if(null===Oe(/^%?[^%]*%?$/,t))throw new Yt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=Ae(t,0,1),r=Ae(t,-1);if("%"===e&&"%"!==r)throw new Yt("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new Yt("invalid intrinsic syntax, expected opening `%`");var n=[];return je(t,_e,function(t,e,r,o){n[n.length]=r?je(o,Ee,"$1"):e||t}),n}(t),n=r.length>0?r[0]:"",o=xe("%"+n+"%",e),a=o.name,i=o.value,c=!1,u=o.alias;u&&(n=u[0],Se(r,we([0,1],u)));for(var l=1,f=!0;l<r.length;l+=1){var s=r[l],p=Ae(s,0,1),y=Ae(s,-1);if(('"'===p||"'"===p||"`"===p||'"'===y||"'"===y||"`"===y)&&p!==y)throw new Yt("property names with quotes must have matching quotes");if("constructor"!==s&&f||(c=!0),ue(me,a="%"+(n+="."+s)+"%"))i=me[a];else if(null!=i){if(!(s in i)){if(!e)throw new at("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ct&&l+1>=r.length){var d=Ct(i,s);i=(f=!!d)&&"get"in d&&!("originalValue"in d.get)?d.get:i[s]}else f=ue(i,s),i=i[s];f&&!c&&(me[a]=i)}}return i},Ie=Nt([Pe("%String.prototype.indexOf%")]),Re=function(t,e){var r=Pe(t,!!e);return"function"==typeof r&&Ie(t,".prototype.")>-1?Nt([r]):r},ke=Pe("%Map%",!0),De=Re("Map.prototype.get",!0),Te=Re("Map.prototype.set",!0),Fe=Re("Map.prototype.has",!0),Le=Re("Map.prototype.delete",!0),Me=Re("Map.prototype.size",!0),Ne=!!ke&&function(){var t,e={assert:function(t){if(!e.has(t))throw new at("Side channel does not contain "+ot(t))},delete:function(e){if(t){var r=Le(t,e);return 0===Me(t)&&(t=void 0),r}return!1},get:function(e){if(t)return De(t,e)},has:function(e){return!!t&&Fe(t,e)},set:function(e,r){t||(t=new ke),Te(t,e,r)}};return e},Ce=Pe("%WeakMap%",!0),Ue=Re("WeakMap.prototype.get",!0),$e=Re("WeakMap.prototype.set",!0),Be=Re("WeakMap.prototype.has",!0),qe=Re("WeakMap.prototype.delete",!0),We=(Ce?function(){var t,e,r={assert:function(t){if(!r.has(t))throw new at("Side channel does not contain "+ot(t))},delete:function(r){if(Ce&&r&&("object"==typeof r||"function"==typeof r)){if(t)return qe(t,r)}else if(Ne&&e)return e.delete(r);return!1},get:function(r){return Ce&&r&&("object"==typeof r||"function"==typeof r)&&t?Ue(t,r):e&&e.get(r)},has:function(r){return Ce&&r&&("object"==typeof r||"function"==typeof r)&&t?Be(t,r):!!e&&e.has(r)},set:function(r,n){Ce&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new Ce),$e(t,r,n)):Ne&&(e||(e=Ne()),e.set(r,n))}};return r}:Ne)||Ne||function(){var t,e={assert:function(t){if(!e.has(t))throw new at("Side channel does not contain "+ot(t))},delete:function(e){var r=t&&t.next,n=function(t,e){if(t)return it(t,e,!0)}(t,e);return n&&r&&r===n&&(t=void 0),!!n},get:function(e){return function(t,e){if(t){var r=it(t,e);return r&&r.value}}(t,e)},has:function(e){return function(t,e){return!!t&&!!it(t,e)}(t,e)},set:function(e,r){t||(t={next:void 0}),function(t,e,r){var n=it(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(t,e,r)}};return e},He=function(){var t,e={assert:function(t){if(!e.has(t))throw new at("Side channel does not contain "+ot(t))},delete:function(e){return!!t&&t.delete(e)},get:function(e){return t&&t.get(e)},has:function(e){return!!t&&t.has(e)},set:function(e,r){t||(t=We()),t.set(e,r)}};return e},ze=String.prototype.replace,Ke=/%20/g,Ge="RFC3986",Ve={default:Ge,formatters:{RFC1738:function(t){return ze.call(t,Ke,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:Ge},Qe=Object.prototype.hasOwnProperty,Je=Array.isArray,Xe=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ye=function(t,e){for(var r=e&&e.plainObjects?{__proto__:null}:{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},Ze=1024,tr={arrayToObject:Ye,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],a=o.obj[o.prop],i=Object.keys(a),c=0;c<i.length;++c){var u=i[c],l=a[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:u}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(Je(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,n,o){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var i="",c=0;c<a.length;c+=Ze){for(var u=a.length>=Ze?a.slice(c,c+Ze):a,l=[],f=0;f<u.length;++f){var s=u.charCodeAt(f);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||o===Ve.RFC1738&&(40===s||41===s)?l[l.length]=u.charAt(f):s<128?l[l.length]=Xe[s]:s<2048?l[l.length]=Xe[192|s>>6]+Xe[128|63&s]:s<55296||s>=57344?l[l.length]=Xe[224|s>>12]+Xe[128|s>>6&63]+Xe[128|63&s]:(f+=1,s=65536+((1023&s)<<10|1023&u.charCodeAt(f)),l[l.length]=Xe[240|s>>18]+Xe[128|s>>12&63]+Xe[128|s>>6&63]+Xe[128|63&s])}i+=l.join("")}return i},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(Je(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r&&"function"!=typeof r){if(Je(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!Qe.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return Je(e)&&!Je(r)&&(o=Ye(e,n)),Je(e)&&Je(r)?(r.forEach(function(r,o){if(Qe.call(e,o)){var a=e[o];a&&"object"==typeof a&&r&&"object"==typeof r?e[o]=t(a,r,n):e.push(r)}else e[o]=r}),e):Object.keys(r).reduce(function(e,o){var a=r[o];return Qe.call(e,o)?e[o]=t(e[o],a,n):e[o]=a,e},o)}},er=tr,rr=Object.prototype.hasOwnProperty,nr={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},or=Array.isArray,ar=Array.prototype.push,ir=function(t,e){ar.apply(t,or(e)?e:[e])},cr=Date.prototype.toISOString,ur=Ve.default,lr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:er.encode,encodeValuesOnly:!1,filter:void 0,format:ur,formatter:Ve.formatters[ur],indices:!1,serializeDate:function(t){return cr.call(t)},skipNulls:!1,strictNullHandling:!1},fr={},sr=function t(e,r,n,o,a,i,c,u,l,f,s,p,y,d,h,m,g,b){for(var v,w=e,S=b,j=0,A=!1;void 0!==(S=S.get(fr))&&!A;){var O=S.get(e);if(j+=1,void 0!==O){if(O===j)throw new RangeError("Cyclic object value");A=!0}void 0===S.get(fr)&&(j=0)}if("function"==typeof f?w=f(r,w):w instanceof Date?w=y(w):"comma"===n&&or(w)&&(w=er.maybeMap(w,function(t){return t instanceof Date?y(t):t})),null===w){if(i)return l&&!m?l(r,lr.encoder,g,"key",d):r;w=""}if("string"==typeof(v=w)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||er.isBuffer(w))return l?[h(m?r:l(r,lr.encoder,g,"key",d))+"="+h(l(w,lr.encoder,g,"value",d))]:[h(r)+"="+h(String(w))];var _,E=[];if(void 0===w)return E;if("comma"===n&&or(w))m&&l&&(w=er.maybeMap(w,l)),_=[{value:w.length>0?w.join(",")||null:void 0}];else if(or(f))_=f;else{var x=Object.keys(w);_=s?x.sort(s):x}var P=u?String(r).replace(/\./g,"%2E"):String(r),I=o&&or(w)&&1===w.length?P+"[]":P;if(a&&or(w)&&0===w.length)return I+"[]";for(var R=0;R<_.length;++R){var k=_[R],D="object"==typeof k&&k&&void 0!==k.value?k.value:w[k];if(!c||null!==D){var T=p&&u?String(k).replace(/\./g,"%2E"):String(k),F=or(w)?"function"==typeof n?n(I,T):I:I+(p?"."+T:"["+T+"]");b.set(e,j);var L=He();L.set(fr,b),ir(E,t(D,F,n,o,a,i,c,u,"comma"===n&&m&&or(w)?null:l,f,s,p,y,d,h,m,g,L))}}return E},pr=Object.prototype.hasOwnProperty,yr=Array.isArray,dr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:er.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},hr=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},mr=function(t,e,r){if(t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(1===e.arrayLimit?"":"s")+" allowed in an array.");return t},gr=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,i=r.depth>0&&/(\[[^[\]]*])/.exec(o),c=i?o.slice(0,i.index):o,u=[];if(c){if(!r.plainObjects&&pr.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var l=0;r.depth>0&&null!==(i=a.exec(o))&&l<r.depth;){if(l+=1,!r.plainObjects&&pr.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(i[1])}if(i){if(!0===r.strictDepth)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+o.slice(i.index)+"]")}return function(t,e,r,n){var o=0;if(t.length>0&&"[]"===t[t.length-1]){var a=t.slice(0,-1).join("");o=Array.isArray(e)&&e[a]?e[a].length:0}for(var i=n?e:mr(e,r,o),c=t.length-1;c>=0;--c){var u,l=t[c];if("[]"===l&&r.parseArrays)u=r.allowEmptyArrays&&(""===i||r.strictNullHandling&&null===i)?[]:er.combine([],i);else{u=r.plainObjects?{__proto__:null}:{};var f="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,s=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,p=parseInt(s,10);r.parseArrays||""!==s?!isNaN(p)&&l!==s&&String(p)===s&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(u=[])[p]=i:"__proto__"!==s&&(u[s]=i):u={0:i}}i=u}return i}(u,e,r,n)}},br=function(t,e){var r=function(t){if(!t)return dr;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==t.throwOnLimitExceeded&&"boolean"!=typeof t.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var e=void 0===t.charset?dr.charset:t.charset,r=void 0===t.duplicates?dr.duplicates:t.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||dr.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:dr.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:dr.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:dr.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:dr.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:dr.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:dr.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:dr.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:dr.decoder,delimiter:"string"==typeof t.delimiter||er.isRegExp(t.delimiter)?t.delimiter:dr.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:dr.depth,duplicates:r,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:dr.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:dr.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:dr.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:dr.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:dr.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof t.throwOnLimitExceeded&&t.throwOnLimitExceeded}}(e);if(""===t||null==t)return r.plainObjects?{__proto__:null}:{};for(var n="string"==typeof t?function(t,e){var r={__proto__:null},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t;n=n.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=e.parameterLimit===1/0?void 0:e.parameterLimit,a=n.split(e.delimiter,e.throwOnLimitExceeded?o+1:o);if(e.throwOnLimitExceeded&&a.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(1===o?"":"s")+" allowed.");var i,c=-1,u=e.charset;if(e.charsetSentinel)for(i=0;i<a.length;++i)0===a[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[i]?u="utf-8":"utf8=%26%2310003%3B"===a[i]&&(u="iso-8859-1"),c=i,i=a.length);for(i=0;i<a.length;++i)if(i!==c){var l,f,s=a[i],p=s.indexOf("]="),y=-1===p?s.indexOf("="):p+1;-1===y?(l=e.decoder(s,dr.decoder,u,"key"),f=e.strictNullHandling?null:""):(l=e.decoder(s.slice(0,y),dr.decoder,u,"key"),f=er.maybeMap(mr(s.slice(y+1),e,yr(r[l])?r[l].length:0),function(t){return e.decoder(t,dr.decoder,u,"value")})),f&&e.interpretNumericEntities&&"iso-8859-1"===u&&(f=hr(String(f))),s.indexOf("[]=")>-1&&(f=yr(f)?[f]:f);var d=pr.call(r,l);d&&"combine"===e.duplicates?r[l]=er.combine(r[l],f):d&&"last"!==e.duplicates||(r[l]=f)}return r}(t,r):t,o=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),i=0;i<a.length;++i){var c=a[i],u=gr(c,n[c],r,"string"==typeof t);o=er.merge(o,u,r)}return!0===r.allowSparse?o:er.compact(o)},vr={formats:Ve,parse:br,stringify:function(t,e){var r,n=t,o=function(t){if(!t)return lr;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||lr.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Ve.default;if(void 0!==t.format){if(!rr.call(Ve.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n,o=Ve.formatters[r],a=lr.filter;if(("function"==typeof t.filter||or(t.filter))&&(a=t.filter),n=t.arrayFormat in nr?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":lr.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var i=void 0===t.allowDots?!0===t.encodeDotInKeys||lr.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:lr.addQueryPrefix,allowDots:i,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:lr.allowEmptyArrays,arrayFormat:n,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:lr.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?lr.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:lr.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:lr.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:lr.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:lr.encodeValuesOnly,filter:a,format:r,formatter:o,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:lr.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:lr.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:lr.strictNullHandling}}(e);"function"==typeof o.filter?n=(0,o.filter)("",n):or(o.filter)&&(r=o.filter);var a=[];if("object"!=typeof n||null===n)return"";var i=nr[o.arrayFormat],c="comma"===i&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var u=He(),l=0;l<r.length;++l){var f=r[l],s=n[f];o.skipNulls&&null===s||ir(a,sr(s,f,i,c,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,u))}var p=a.join(o.delimiter),y=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),p.length>0?y+p:""}},wr=r(function(t,r){var n="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",i="[object Boolean]",c="[object Date]",u="[object Function]",l="[object GeneratorFunction]",f="[object Map]",s="[object Number]",p="[object Object]",y="[object Promise]",d="[object RegExp]",h="[object Set]",m="[object String]",g="[object Symbol]",b="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",j="[object Float64Array]",A="[object Int8Array]",O="[object Int16Array]",_="[object Int32Array]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",R=/\w*$/,k=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,T={};T[a]=T["[object Array]"]=T[v]=T[w]=T[i]=T[c]=T[S]=T[j]=T[A]=T[O]=T[_]=T[f]=T[s]=T[p]=T[d]=T[h]=T[m]=T[g]=T[E]=T[x]=T[P]=T[I]=!0,T["[object Error]"]=T[u]=T[b]=!1;var F="object"==typeof e&&e&&e.Object===Object&&e,L="object"==typeof self&&self&&self.Object===Object&&self,M=F||L||Function("return this")(),N=r&&!r.nodeType&&r,C=N&&t&&!t.nodeType&&t,U=C&&C.exports===N;function $(t,e){return t.set(e[0],e[1]),t}function B(t,e){return t.add(e),t}function q(t,e,r,n){var o=-1,a=t?t.length:0;for(n&&a&&(r=t[++o]);++o<a;)r=e(r,t[o],o,t);return r}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function z(t,e){return function(r){return t(e(r))}}function K(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var G,V=Array.prototype,Q=Function.prototype,J=Object.prototype,X=M["__core-js_shared__"],Y=(G=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=Q.toString,tt=J.hasOwnProperty,et=J.toString,rt=RegExp("^"+Z.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=U?M.Buffer:void 0,ot=M.Symbol,at=M.Uint8Array,it=z(Object.getPrototypeOf,Object),ct=Object.create,ut=J.propertyIsEnumerable,lt=V.splice,ft=Object.getOwnPropertySymbols,st=nt?nt.isBuffer:void 0,pt=z(Object.keys,Object),yt=Ct(M,"DataView"),dt=Ct(M,"Map"),ht=Ct(M,"Promise"),mt=Ct(M,"Set"),gt=Ct(M,"WeakMap"),bt=Ct(Object,"create"),vt=Wt(yt),wt=Wt(dt),St=Wt(ht),jt=Wt(mt),At=Wt(gt),Ot=ot?ot.prototype:void 0,_t=Ot?Ot.valueOf:void 0;function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){this.__data__=new xt(t)}function Rt(t,e){var r=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Kt(t)}(t)&&tt.call(t,"callee")&&(!ut.call(t,"callee")||et.call(t)==a)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!tt.call(t,i)||o&&("length"==i||Bt(i,n))||r.push(i);return r}function kt(t,e,r){var n=t[e];tt.call(t,e)&&Ht(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Dt(t,e){for(var r=t.length;r--;)if(Ht(t[r][0],e))return r;return-1}function Tt(t,e,r,n,o,y,b){var k;if(n&&(k=y?n(t,o,y,b):n(t)),void 0!==k)return k;if(!Qt(t))return t;var D=zt(t);if(D){if(k=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&tt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,k)}else{var F=$t(t),L=F==u||F==l;if(Gt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(F==p||F==a||L&&!y){if(W(t))return y?t:{};if(k=function(t){return"function"!=typeof t.constructor||qt(t)?{}:(e=it(t),Qt(e)?ct(e):{});var e}(L?{}:t),!e)return function(t,e){return Mt(t,Ut(t),e)}(t,function(t,e){return t&&Mt(e,Jt(e),t)}(k,t))}else{if(!T[F])return y?t:{};k=function(t,e,r,n){var o=t.constructor;switch(e){case v:return Lt(t);case i:case c:return new o(+t);case w:return function(t,e){var r=e?Lt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case S:case j:case A:case O:case _:case E:case x:case P:case I:return function(t,e){var r=e?Lt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case f:return function(t,e,r){var n=e?r(H(t),!0):H(t);return q(n,$,new t.constructor)}(t,n,r);case s:case m:return new o(t);case d:return function(t){var e=new t.constructor(t.source,R.exec(t));return e.lastIndex=t.lastIndex,e}(t);case h:return function(t,e,r){var n=e?r(K(t),!0):K(t);return q(n,B,new t.constructor)}(t,n,r);case g:return a=t,_t?Object(_t.call(a)):{}}var a}(t,F,Tt,e)}}b||(b=new It);var M=b.get(t);if(M)return M;if(b.set(t,k),!D)var N=r?function(t){return function(t,e,r){var n=e(t);return zt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Jt,Ut)}(t):Jt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(N||t,function(o,a){N&&(o=t[a=o]),kt(k,a,Tt(o,e,r,n,a,t,b))}),k}function Ft(t){return!(!Qt(t)||(e=t,Y&&Y in e))&&(Vt(t)||W(t)?rt:k).test(Wt(t));var e}function Lt(t){var e=new t.constructor(t.byteLength);return new at(e).set(new at(t)),e}function Mt(t,e,r,n){r||(r={});for(var o=-1,a=e.length;++o<a;){var i=e[o],c=n?n(r[i],t[i],i,r,t):void 0;kt(r,i,void 0===c?t[i]:c)}return r}function Nt(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Ct(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ft(r)?r:void 0}Et.prototype.clear=function(){this.__data__=bt?bt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===n?void 0:r}return tt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:tt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?n:e,this},xt.prototype.clear=function(){this.__data__=[]},xt.prototype.delete=function(t){var e=this.__data__,r=Dt(e,t);return!(r<0)&&(r==e.length-1?e.pop():lt.call(e,r,1),!0)},xt.prototype.get=function(t){var e=this.__data__,r=Dt(e,t);return r<0?void 0:e[r][1]},xt.prototype.has=function(t){return Dt(this.__data__,t)>-1},xt.prototype.set=function(t,e){var r=this.__data__,n=Dt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Pt.prototype.clear=function(){this.__data__={hash:new Et,map:new(dt||xt),string:new Et}},Pt.prototype.delete=function(t){return Nt(this,t).delete(t)},Pt.prototype.get=function(t){return Nt(this,t).get(t)},Pt.prototype.has=function(t){return Nt(this,t).has(t)},Pt.prototype.set=function(t,e){return Nt(this,t).set(t,e),this},It.prototype.clear=function(){this.__data__=new xt},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof xt){var n=r.__data__;if(!dt||n.length<199)return n.push([t,e]),this;r=this.__data__=new Pt(n)}return r.set(t,e),this};var Ut=ft?z(ft,Object):function(){return[]},$t=function(t){return et.call(t)};function Bt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Wt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(yt&&$t(new yt(new ArrayBuffer(1)))!=w||dt&&$t(new dt)!=f||ht&&$t(ht.resolve())!=y||mt&&$t(new mt)!=h||gt&&$t(new gt)!=b)&&($t=function(t){var e=et.call(t),r=e==p?t.constructor:void 0,n=r?Wt(r):void 0;if(n)switch(n){case vt:return w;case wt:return f;case St:return y;case jt:return h;case At:return b}return e});var zt=Array.isArray;function Kt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Vt(t)}var Gt=st||function(){return!1};function Vt(t){var e=Qt(t)?et.call(t):"";return e==u||e==l}function Qt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Jt(t){return Kt(t)?Rt(t):function(t){if(!qt(t))return pt(t);var e=[];for(var r in Object(t))tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return Tt(t,!0,!0)}}),Sr=9007199254740991,jr="[object Arguments]",Ar="[object Function]",Or="[object GeneratorFunction]",_r=/^(?:0|[1-9]\d*)$/;function Er(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var xr=Object.prototype,Pr=xr.hasOwnProperty,Ir=xr.toString,Rr=xr.propertyIsEnumerable,kr=Math.max;function Dr(t,e){var r=Ur(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&$r(t)}(t)&&Pr.call(t,"callee")&&(!Rr.call(t,"callee")||Ir.call(t)==jr)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var a in t)!e&&!Pr.call(t,a)||o&&("length"==a||Nr(a,n))||r.push(a);return r}function Tr(t,e,r,n){return void 0===t||Cr(t,xr[r])&&!Pr.call(n,r)?e:t}function Fr(t,e,r){var n=t[e];Pr.call(t,e)&&Cr(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Lr(t){if(!Br(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e,r,n,o=(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||xr,e===n),a=[];for(var i in t)("constructor"!=i||!o&&Pr.call(t,i))&&a.push(i);return a}function Mr(t,e){return e=kr(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=kr(r.length-e,0),a=Array(o);++n<o;)a[n]=r[e+n];n=-1;for(var i=Array(e+1);++n<e;)i[n]=r[n];return i[e]=a,Er(t,this,i)}}function Nr(t,e){return!!(e=null==e?Sr:e)&&("number"==typeof t||_r.test(t))&&t>-1&&t%1==0&&t<e}function Cr(t,e){return t===e||t!=t&&e!=e}var Ur=Array.isArray;function $r(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Sr}(t.length)&&!function(t){var e=Br(t)?Ir.call(t):"";return e==Ar||e==Or}(t)}function Br(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var qr,Wr=(qr=function(t,e,r,n){!function(t,e,r,n){r||(r={});for(var o=-1,a=e.length;++o<a;){var i=e[o],c=n?n(r[i],t[i],i,r,t):void 0;Fr(r,i,void 0===c?t[i]:c)}}(e,function(t){return $r(t)?Dr(t,!0):Lr(t)}(e),t,n)},Mr(function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,a=n>2?e[2]:void 0;for(o=qr.length>3&&"function"==typeof o?(n--,o):void 0,a&&function(t,e,r){if(!Br(r))return!1;var n=typeof e;return!!("number"==n?$r(r)&&Nr(e,r.length):"string"==n&&e in r)&&Cr(r[e],t)}(e[0],e[1],a)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var i=e[r];i&&qr(t,i,r,o)}return t}));var Hr=Mr(function(t){return t.push(void 0,Tr),Er(Wr,void 0,t)}),zr=vr;var Kr=function(t){var e,r;return t&&(e=t.followRoute,r=t.windowObject),r.onhashchange=n,{addToRoute:function(t,r=!0){var n=Hr(wr(t),o());a(n),r&&e(n)},overwriteRouteEntirely:function(t){a(t),e(t)},routeFromHash:n,unpackEncodedRoute:function(t){var r=zr.parse(decodeURIComponent(t));a(r),e(r)}};function n(){e(o())}function o(){return zr.parse(r.location.hash.slice(1))}function a(t){var e=r.location.protocol+"//"+r.location.host+r.location.pathname+"#"+zr.stringify(t);r.history.pushState(null,null,e)}};var Gr=function(t){if(t){console.error(t,t.stack);var e="";t.name&&(e+=t.name+": "),e+=t.message,t.stack&&(e+=" | "+t.stack.toString()),function(t){var e=document.getElementById("status-message");e.textContent=t,e.classList.remove("hidden")}(e)}},Vr=r(function(t){var e={makeRequest:function(t,e){var r=t.json||"application/json"===t.mimeType,n=new XMLHttpRequest;if(n.open(t.method,t.url),t.mimeType&&n.setRequestHeader("content-type",t.mimeType),r&&n.setRequestHeader("accept","application/json"),"object"==typeof t.headers)for(var o in t.headers)n.setRequestHeader(o,t.headers[o]);t.binary&&(n.responseType="arraybuffer"),r&&"object"==typeof t.body&&(t.body=JSON.stringify(t.body));var a=null;n.onload=function(){clearTimeout(a),t.onData&&u();var o={statusCode:this.status,statusMessage:n.statusText,responseURL:n.responseURL,rawResponse:n.response,xhr:n};if(t.binary)e(null,o,n.response);else{var i=this.responseText;if(r)try{i=JSON.parse(i)}catch(t){o.jsonParseError=t}e(null,o,i)}};var i=0;function c(){n.abort(),clearTimeout(a),e()}function u(){n.responseText&&(t.onData(n.responseText.substr(i)),i=n.responseText.length)}return t.onData&&(n.onreadystatechange=function(){3===n.readyState&&u()}),n.onerror=function(){var t=new Error("There is a problem with the network.");t.name="XHR network error",e(t)},n.send(t.formData||t.body),t.timeLimit>0&&(a=setTimeout(c,t.timeLimit)),{url:t.url,cancelRequest:c}}};t.exports=e.makeRequest});var Qr=function({ok:t,nok:e,log:r=console.log}){return function(n){if(n)r&&(n.stack?r(n,n.stack):r(n)),e&&e(n);else if(t){var o=Array.prototype.slice.call(arguments,1);e&&o.push(e),t.apply(t,o)}}};function Jr({sel:t,message:e}){var r=document.querySelector(t);r.textContent=e,r.classList.remove("hidden")}var Xr=/\n/g;function Yr({note:t,archive:e,password:r,mediaObjects:n,rootSel:o}){var a=document.querySelector(`${o} .saving-message`);a.textContent="Saving",a.classList.remove("hidden"),t.caption=t.caption.replace(Xr,"<br>");var i={method:"POST",url:"https://smidgeo.com/note-taker/note",json:!0,headers:{Authorization:`Key ${r}`,"X-Note-Archive":e}};n&&n.length>0?i.formData=function({mediaObjects:t,note:e}){let r=new FormData;for(let t in e)r.append(t,e[t]);t&&(t.forEach((t,e)=>r.append("buffer"+e,t.file)),r.append("mediaFiles",JSON.stringify(t.map(Zr))));return r}({mediaObjects:n,note:t}):(i.headers["Content-Type"]="application/json",i.body=t),Vr(i,Qr({ok:function(e,r){e.statusCode<300&&e.statusCode>199?(Jr({message:`Saved note: "${t.caption}".`,sel:`${o} .saving-message`}),n=document.getElementById("media-file"),a=document.querySelector("textarea"),n.value=null,a.value=null):Jr({message:`Could not save note. ${e.statusCode}: ${r.message}`,sel:`${o} .saving-message`});var n,a},nok:Gr}))}function Zr(t){const e=t.file.type;return{filename:t.filename,alt:t.alt,mimeType:e,isVideo:e.startsWith("video/"),isAudio:e.startsWith("audio/")}}var tn=function(){var t={};return{setListener:e,on:function(t,r,n){e({eventName:r,listener:n,element:document.querySelector(t)})}};function e({eventName:e,listener:r,element:n}){const o=`${n.id}|${e}`;var a=t[o];a&&n.removeEventListener(e,a),n.addEventListener(e,r),t[o]=r}};function en(t){return"checkbox"===t.type?t.checked:t.value||t.textContent}var rn={ObjectFromDOM:function({dataAttribute:t="of",dataTypeAttribute:e="oftype",getValueFromElement:r=en}){return function(n){var o=n.querySelectorAll(`[data-${t}]`),a={};for(let t=0;t<o.length;++t)i(o[t]);return a;function i(n){let o=n.dataset[t],i=n.dataset[e]||"string",u=o.split("/"),l=a;for(let t=0;t<u.length;++t){let e=u[t];t===u.length-1?c(l,e,i,r(n)):(l[e]||(l[e]={}),l=l[e])}}function c(t,e,r,n){if("array"===r){var o=t[e];o||(o=[],t[e]=o),o.push(n)}else t[e]="int"===r?parseInt(n,10):n}}}};HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,r){var n=this;setTimeout(function(){for(var o=atob(n.toDataURL(e,r).split(",")[1]),a=o.length,i=new Uint8Array(a),c=0;c<a;c++)i[c]=o.charCodeAt(c);t(new Blob([i],{type:e||"image/png"}))})}});var nn=/(\w)\n(\w)/g;function on({rootSel:t,file:e}){var r=document.querySelector(`${t} .note-area`),n=document.querySelector(`${t} .scan-message`);n.textContent="Scanning",n.classList.remove("hidden"),Tesseract.recognize(e,"eng").then(function(t){if(n.classList.add("hidden"),t.text){const e=t.text.trim().replace(nn,"$1 $2");r.value=r.value+`\n<blockquote>${e}</blockquote>\n`}},function(t){n.textContent=t.message,n.classList.remove("hidden")})}const an='\n  <h5>Media file</h5>\n\n  <canvas class="resize-canvas hidden"></canvas>\n  <div class="image-controls hidden">\n    <canvas class="thumbnail-canvas hidden"></canvas>\n    <button class="rotate-button">Rotate image</button>\n    <h5>Resize to this maximum length for image side</h5>\n    (Set it to "unlimited" to not resize at all)\n    <input type="text" class="max-image-side-length" value="2016" />\n    <button class="remove-image-button">Remove media </button>\n    <button class="scan-button">Scan text into note body</button>\n    <h3>Alt text</h3>\n    <input class="alt-text" type="text" />\n    <input class="send-image-raw-checkbox" type="checkbox" />\n    <label for="send-image-raw-checkbox"\n      >Send the image raw without resizing</label\n    >\n  </div>\n  <video class="video-preview hidden" controls></video>\n  <audio class="audio-preview hidden" controls></audio>\n';var{on:cn}=tn();function un({parentSel:t,file:e,idLabel:r}){var{mediaRoot:n,mediaContainerClass:o}=function(t,e){var r=document.querySelector(t),n=document.createElement("div");const o="entry-media-"+e;return n.classList.add("entry-media-controls"),n.classList.add(o),r.append(n),n.innerHTML=an,{mediaRoot:n,mediaContainerClass:o}}(t,r);const a=t+" ."+o;var i=function({rootSel:t}){var e,r,n=document.querySelector(`${t} .resize-canvas`),o=document.querySelector(`${t} .thumbnail-canvas`),a=n.getContext("2d"),i=o.getContext("2d"),c=0,u=!1;return{loadFileToCanvas:function({mimeType:t,maxSideLength:o,file:a}){(e=new Image).addEventListener("load",function(){c=0;var a,i,l=e.width,s=e.height;l>s?i=s*(a=o)/l:a=l*(i=o)/s,n.width=a,n.height=i,f(e,a,i),r=t,u=!0}),e.src=URL.createObjectURL(a)},getImageFromCanvas:function(){return new Promise(t=>n.toBlob(t,r,.7))},canvasHasImage:l,rotateImage:function(){if(l()){c+=1,a.clearRect(0,0,n.width,n.height);var t=n.width,r=n.height;n.width=r,n.height=t,console.log(n.width,n.height);var o=c*Math.PI/2;a.translate(n.width/2,n.height/2),a.rotate(o),c%2==1?(a.translate(-t/2,-r/2),f(e,n.height,n.width)):(a.translate(-n.width/2,-n.height/2),f(e,n.width,n.height))}},clearCanvases:function(){a.clearRect(0,0,n.width,n.height),i.clearRect(0,0,o.width,o.height)}};function l(){return u}function f(t,e,r){a.drawImage(t,0,0,e,r),o.width=300,o.height=200,i.drawImage(n,0,0,n.width,n.height,0,0,300,200)}}({rootSel:a}),c=n.querySelector(".max-image-side-length"),u=n.querySelector(".image-controls"),l=n.querySelector(".video-preview"),f=n.querySelector(".audio-preview"),s=n.querySelector(".thumbnail-canvas"),p=+c.value;return e&&(e.type.startsWith("image/")&&!isNaN(p)?(u.classList.remove("hidden"),i.loadFileToCanvas({file:e,mimeType:e.type,maxSideLength:p}),s.classList.remove("hidden"),cn(`${a} .scan-button`,"click",on),cn(`${a} .rotate-button`,"click",i.rotateImage),cn(`${a} .remove-image-button`,"click",function(){i.clearCanvases(),u.classList.add("hidden"),e=null})):e.type.startsWith("video/")?(l.setAttribute("src",URL.createObjectURL(e)),l.setAttribute("type",e.type),l.classList.remove("hidden")):e.type.startsWith("audio/")&&(f.setAttribute("src",URL.createObjectURL(e)),f.classList.remove("hidden"))),async function(){if(!e)return;let t=e;e.type.startsWith("image/")&&(t=document.querySelector(`${a} .send-image-raw-checkbox`).checked?e:await i.getImageFromCanvas());var r=document.querySelector(a+" .alt-text");return{file:t,filename:e.name,alt:r.value}}}var ln=rn.ObjectFromDOM({}),{on:fn}=tn();function sn({parentEl:t,id:e,files:r}){var n=[];const o="#"+e;var a=document.createElement("li");a.setAttribute("id",e),a.setAttribute("class","entry-container"),t.append(a),a.innerHTML='<h4>Note</h4>\n<section class="note-form ccol">\n  <textarea class="note-area" data-of="caption"></textarea>\n  <span>\n    <button class="insert-link-button">Insert link</button>\n    <button class="insert-bq-button">Insert blockquote</button>\n    <button class="insert-underline-button">Insert underline</button>\n    <button class="insert-bold-button">Insert bold</button>\n    <button class="insert-italics-button">Insert italics</button>\n  </span>\n  <h5>Media for this entry</h5>\n  <input type="file" class="entry-media-file" accept="image/*, video/*, audio/*, .m4a,.ogg,.mp3,.wav" multiple />\n\n  <ul class="entry-media-list">\n  </ul>\n    <div class="scan-message progress-message hidden">Scanning</div>\n  </div>\n\n  <button class="submit-note-button">Note!</button>\n  <div class="saving-message progress-message hidden">Saving</div>\n</section>';var i=document.querySelector(`${o} .note-area`);function c(t){return function(){i.value=i.value+t}}r&&(n=r.map((t,e)=>{un({parentSel:o+" .entry-media-list",file:t,idLabel:e})})),fn(`${o} .submit-note-button`,"click",async function(){var t=ln(document.querySelector(`${o} .note-form`)),e=document.getElementById("archive").value,r=document.getElementById("password").value,a=[];if(n)for(let t of n){let e=await t();e&&a.push(e)}Yr({note:t,archive:e,password:r,mediaObjects:a,rootSel:o})}),fn(`${o} .insert-link-button`,"click",c('<a href="URL">Link</a>')),fn(`${o} .insert-bq-button`,"click",c("<blockquote>Quote</blockquote>")),fn(`${o} .insert-underline-button`,"click",c("<u>Underlined</u>")),fn(`${o} .insert-bold-button`,"click",c("<b>Bolded</b>")),fn(`${o} .insert-italics-button`,"click",c("<i>Italicized</i>")),fn(`${o} .entry-media-file`,"change",function(){r=this.files,n=[];for(let t=0;t<r.length;++t)n.push(un({parentSel:o,file:r[t],idLabel:t}))})}var{on:pn}=tn(),yn=document.getElementById("entries");var dn="2.2.1",hn=document.getElementById("entries"),mn=Kr({followRoute:function(){sn({parentEl:hn,id:"base-entry",files:[]}),function(){function t(){var t=this.files;if(!(t.length<1)){r();for(var n=0;n<t.length;++n)e(t[n],n)}}function e(t,e){sn({parentEl:yn,id:`media-entry-${e}`,files:[t]})}function r(){return yn.innerHTML="",!0}pn("#clear-entries-button","click",()=>r()&&sn({parentEl:yn,id:"base-entry",files:[]})),pn("#media-file","change",t),t.bind(document.getElementById("media-file"))()}()},windowObject:window});function gn(t,e,r,n,o){Gr(o)}!async function(){document.getElementById("version-info").textContent=dn,window.onerror=gn,mn.routeFromHash()}()}();
//# sourceMappingURL=index.js.map
